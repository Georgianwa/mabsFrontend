<%- include('partials/header') %>

<main class="categories-page">
    <div class="page-header" style="background-image: url('/images/heroHome.jpg'); background-size: cover; background-position: center;">
        <div class="container">
            <h1>All Categories</h1>
            <p>Browse our complete range of electronics and appliances</p>
        </div>
    </div>
    
    <section class="categories-content">
        <div class="container">
            <div class="category-grid-large">
                <% categories.forEach(category => { %>
                    <div class="category-card-large">
                        <a href="/category/<%= category._id || category.id %>">
                            <div class="category-image">
                                <% 
                                let imageUrl = '';
                                if (category.image) {
                                    if (typeof category.image === 'object' && category.image.url) {
                                        imageUrl = category.image.url;
                                    } else if (typeof category.image === 'string') {
                                        imageUrl = category.image;
                                    }
                                }
                                %>
                                <img src="<%= imageUrl || '/images/placeholder.jpg' %>" alt="<%= category.title %>" onerror="this.src='/images/placeholder.jpg'">
                            </div>
                            <div class="category-content">
                                <h2><%= category.title %></h2>
                                <p><%= category.description || 'Explore our selection' %></p>
                                <span class="btn btn-outline">Shop Now <i class="fas fa-arrow-right"></i></span>
                            </div>
                        </a>
                    </div>
                <% }); %>
            </div>
        </div>
    </section>
</main>

<%- include('partials/footer') %>